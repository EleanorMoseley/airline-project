{% extends "base.html" %}

{% block content %}
<body>
<form action="/register" method="POST">
	<select name="role" id="role" onchange="toggleRole(this)">
		<option value="customer">Customer</option>
		<option value="staff">Staff</option>
	</select>
	<input type="text" name="username" id="username" placeholder="Username (Staff only)" style="display: none;"/>
	<input type="password" name="password" placeholder="Password" required style="text-align: center;"/>
	<input type="text" name="email" placeholder="Email" required style="text-align: center"/>
	<input type="text" name="first_name" id="first_name" placeholder="First Name (Staff only)" style="display: none;"/>
	<input type="text" name="last_name" id="last_name" placeholder="Last Name (Staff only)" style="display: none;"/>
	<input type="text" name="airline_name" id="airline_name" placeholder="Airline Name (Staff only)" style="display: none;"/>
	<div id="phone_numbers_staff" style="display: none;">
		<input type="text" name="phone_number_staff[]" placeholder="Phone Number (Staff only)"/>
	</div>
	<button type="button" onclick="addPhoneNumber()">Add Phone Number</button>
	<input type="text" name="name" id="name" placeholder="Name (Customer only)"/>
	<input type="text" name="building_number" id="building_number" placeholder="Building Number (Customer only)"/>
	<input type="text" name="street" id="street" placeholder="Street (Customer only)"/>
	<input type="text" name="city" id="city" placeholder="City (Customer only)"/>
	<input type="text" name="state" id="state" placeholder="State (Customer only)"/>
	<input type="text" name="phone_number" id="phone_number" placeholder="Phone Number (Customer only)"/>
	<input type="text" name="passport_number" id="passport_number" placeholder="Passport Number (Customer only)"/>
	<input type="text" name="passport_expiration" id="passport_expiration" placeholder="Passport Expiration (Customer only)"/>
	<input type="text" name="passport_country" id="passport_country" placeholder="Passport Country (Customer only)"/>
	<input type="text" name="date_of_birth" id="date_of_birth" placeholder="Date of Birth"/>
	<input type="submit" value="Register" style="text-align: center;"/>
	{% if error %}
		<p class="error"><strong>Error:</strong> {{error}}</p>
	{% endif %}
</form>
<a href="/">Go back</a>

<script>
	function toggleRole(roleElement) {
		var role = roleElement.value;
		var isCustomer = role === 'customer';
		document.getElementById('username').style.display = isCustomer ? 'none' : 'block';
		document.getElementById('first_name').style.display = isCustomer ? 'none' : 'block';
		document.getElementById('last_name').style.display = isCustomer ? 'none' : 'block';
		document.getElementById('airline_name').style.display = isCustomer ? 'none' : 'block';
		document.getElementById('phone_numbers_staff').style.display = isCustomer ? 'none' : 'block';
		document.getElementById('name').style.display = isCustomer ? 'block' : 'none';
		document.getElementById('building_number').style.display = isCustomer ? 'block' : 'none';
		document.getElementById('street').style.display = isCustomer ? 'block' : 'none';
		document.getElementById('city').style.display = isCustomer ? 'block' : 'none';
		document.getElementById('state').style.display = isCustomer ? 'block' : 'none';
		document.getElementById('phone_number').style.display = isCustomer ? 'block' : 'none';
		document.getElementById('passport_number').style.display = isCustomer ? 'block' : 'none';
		document.getElementById('passport_expiration').style.display = isCustomer ? 'block' : 'none';
		document.getElementById('passport_country').style.display = isCustomer ? 'block' : 'none';
	}

	function addPhoneNumber() {
		var div = document.createElement('div');
		div.innerHTML = '<input type="text" name="phone_number_staff[]" placeholder="Phone Number (Staff only)"/>';
		document.getElementById('phone_numbers_staff').appendChild(div);
	}
</script>
</body>
</html>
{% endblock %}
